import { keyframes, css } from "@emotion/react";
import styled from "@emotion/styled";
import React from "react";
import { useIntersectionObserver } from "../hooks";
import { media } from "../variables";

const linePath = `M17.1,141.3c-1.2,0.1-1.9-0.1-2.8,0c-3.7-0.3-5.7-1.6-8.2-5.7L6,134.4c-0.1-0.6-0.4-0.9-0.4-1.2
c-0.3-3,0.2-4,1.1-4.1c2.3-1.5,3.6-1.3,4.9-0.5c0.7,1.2,1.4,1.7,2.7,2.8c0.7,0.5,1,1.1,1.7,1.4c2.3,1.9,6.3,1.8,8,0.1
c4.6-3.5,7.2-8.1,8-13.1c0.1-2.5,0.3-3.7-0.2-4.9c-2.3-5-4.7-10.3-6.7-15.3c-1.5-2.9-2-4.4-2.8-6.5c0,0,0-0.3-0.4-0.6
c-1.5-2.3-1.7-5.1-2.6-5c-0.6,0.4-2.1,3.6-2.9,4.6l-0.5,1c-0.6,0.7-0.8,1.3-1.6,2.6c-0.2,0.9-0.4,1.9-1.5,3.5
c-1.1,1.6-1.6,2.9-2.5,5.5c-0.7,2.2-1.7,4.5-3.1,6.4c-2,2-2.3,2.1-5.5,0.5l0-0.3c1.2-3.8,2.3-7.6,4.5-10.9
c2.9-4.6,4.1-8.4,5.6-11.9c1.2-3.8,1.4-4.4,3.8-8.4c1.1-1.6,0.3-3.4-0.5-5.2c-0.4-1.5,0.1-4.9,0.9-6.5c1.6-2.9,6.7-4.3,9.8-3.7
c0.3,0,1.4,1.7,1.1,1.4c-1,2.2-1.2,3.2-1.4,5c-0.2,1.2-0.3,2.8-1.1,5c-1.8,3.9-1.6,6,1.1,11c0.8,1.8,1.5,2.6,2,4.4
c0.8,1.8,2.6,4.4,4.3,6.3c2.5,3.1,3.2,4,3.6,5.5c3.5,8,4.1,17.1,1.5,25.1l-0.5,1l0,0.3c-1,2.2,2.5,3.8,4,3c1.5-0.5,2.4-0.8,4.5-1.4
c3.9-1.3,8.4-2.6,11.5-5.4l7.7-6l0.3-0.3c0.3-0.3,0.2-0.6,1.1-1.3c1.2-0.7,2.6-2.1,3.1-3.4c3.7-3.1,9.1-10.7,12.8-17.5
c0.2-0.9,2.5-2.7,4.6-0.4l0.1,1.2l-0.2,0.9c-0.2,1.2-0.4,1.9-1.3,2.9c-0.4,1.9-1.5,3.2-3.5,5.3c-1.4,1.7-3.3,4-4,6.2
c0.3,0.3-2.1,3.6-2.7,3.6c-2.2,3-3.8,5-7.5,7.8c-1.7,1.4-3.4,3.1-5.1,4.8c-2.2,3-3.9,4.1-8.4,5.7c-2.1,0.8-4.5,1.7-6.5,2.8
c-2.3,1.5-4.5,1.7-9.6,2.5c-2.4,0.2-4.6,0.4-6.7,1C25.5,141.5,21.4,141.2,17.1,141.3z M176.6,89.7c-0.3,2.8-1.6,5.7-4.1,8.4
c-0.5,1-1.1,1.3-2.2,2.4c-1.9,2.3-3.6,4.3-4.8,7.8c-0.5,1-1.7,2-3.6,3.7c-1.4,1.1-2.3,2.1-4.2,4.1c-3.1,3.1-5.9,5.8-9.7,8.3
c-4.3,3.5-9.4,4.3-14,2c-2.6-1-3.2-0.9-4.5-1.7c-7.4-3.9-11.2-14.3-9.3-23.4l2-7.9l0-0.3c0-2.8-0.1-4.6-1.5-6.3
c-0.8-1.8-4.2-2.1-5.6-1c-4.3,3.5-8.9,7-11.8,11.6c-1,1.9-1.8,3.3-4,6.5c-4,6.5-8.2,13.4-11.3,19.8c-1,1.9-1.8,3.3-3.1,6.1
c-0.6,0.7-0.8,1.6-1,1.9c-1.3,2.6-3.4,3.4-6.2,2.7c-1.2-0.2-2.4-2.2-2.2-3.5l1.6-9.1c0.7-5.3,1.4-10.9,3.1-15.7
c0.2-1.2,0.4-2.5,0.3-3.4c-0.3-3.4,0.2-7.1,2.3-11.3l0.6-0.7c0.7-1.9,1.2-3.2,0.5-4c-0.8-1.8-0.7-3.6,0.6-6.5
c0.2-0.9,0.7-1.9,1-2.6l0.7-2.5c1.2-3.2,1.7-4.8,1.2-6.6c-0.1-0.9,0.4-1.9,1.5-3.5c0-0.3,0.2-0.6,0.5-1.3c0.8-1.3,1-1.9,1-2.6
c-0.7-3.6,0.3-6.8,1.2-10c0.7-2.2,1.4-4.7,1.5-6.6c0.3-3.4,1-5.9,1.6-8.8c0.7-2.8,1.3-5.7,1.6-8.5c0-3.7,1.2-6.9,2.7-10.7
c0.5-1.3,1-2.6,1.2-3.8c0.8-1.3,1.3-2,3.5-1.6c1.2,0.2,1.6,0.8,1.4,1.7c1.9,3.8,2.2,10.2,0.6,15.3c-1.4,5.1-2.2,9.1-3,13.5
c-0.7,2.2-1.1,4.7-1.8,7.2c-0.2,1.6-2.7,10.4-3.2,11.7c-0.2,0.6-0.2,1.2-1,2.6c-2,5.1-2.4,7.3-1.8,10.3c-1.9,2.9-1.9,2.6-2.2,6.4
c-0.3,2.8-1.4,5-2.4,7.3c-1.5,3.5-1.8,6.6-1.1,10.6c0,0.3,0.7,1.2,0.7,1.2c1,0.5,3.4,0.3,3.1,0.6c2.8-2.7,4.2-4.7,8.3-9.7
c1.4-1.4,2.8-3,3.9-4.4c2.1-3.3,4.5-4.7,9.7-7.4c3.6-1.3,6-1.2,9,0.4c1.3,0.5,1.7,1.4,2.1,2.9l1.4,4.8c0.7,4.2-0.2,7.4-0.9,9.9
c-0.3,2.8-0.1,4.9,0.3,9.5l0.7,7c3.1,6.2,6.3,11.4,15.7,6.2c1.2-0.4,2-1.1,3.5-1.9c2.6-1.5,4.3-3.2,7.3-6.9c1.7-1.7,3-3.7,4.5-4.7
c4.3-3.5,6.9-5,8.8-10.4c1-2.2,1.8-3.6,4-6.5c1.1-1.6,2.2-2.4,4.1-1.6C176.5,87.9,176.9,88.8,176.6,89.7z M267,82.5
c-0.3,0.3-0.2,0.6-0.2,0.9l-0.3,0.3c-0.7,1.9-1,2.9-1.3,2.9l-9.3,15.6c-2.1,3.6-3.8,5.3-7.2,7.8c-0.3,0.3-1.2,0.7-1.5,0.8
c-5.1,4.2-7.5,4.7-11.4,6c-1.5,0.1-3.3,0.9-5.1,1.4l-3,0.3c-0.9-0.2-1.6-0.2-2.2-0.1c-8-0.5-11-2.9-16.6-9.8
c-0.4-0.6-1.1-1.4-1.7-2c-0.4-0.6-2.8-0.7-4-0.2c-1.1,1.3-2,2-4.2,4.1l-3.9,3.8c-0.6,0.4-0.9,0.4-1.4,1.1c-1.1,1-2.3,2.1-3.4,2.5
c-5.4,4.2-10,4.3-15.9,0.6c-2.6-1.6-3.7-3-3.6-5.5c-0.2-1.8-0.6-3.3-0.7-4.5c-0.6-2.7-0.7-4.2-0.1-7.1l0.6-3.1c1.1-4.1,1.6-6,1-8.4
c-0.3,0-0.4-0.9,0.4-2.2c2.1-4.2,4.1-8.4,5.8-13.2c2.3-4.5,4-5.9,8.7-8.8c0.8-1.3,1.1-1.6,3.1-3.1c0.9-0.4,2.3-1.1,2.9-2.1
c2.3-2.1,3.8-2.5,6.2-2.4c8.3,0.4,13.2,3.3,16.9,9.4c0.1,0.6,0.7,1.2,1.1,1.7c0.7,1.2,1.1,1.7,1.2,3.3c-0.1,1.9-1.2,3.2-2.4,3.6
c-1.8,0.5-3.4-0.3-3.9-2.1c-0.4-0.9-0.8-1.5-1.8-2.6c-0.7-0.6-1-0.8-1.1-1.7c-1.5-3.2-3.8-4.2-8.4-4.1c-4.9,0.5-8.4,2.3-10.6,5.3
c-0.8,1.3-1.3,2-2.8,3.3c-1.4,1.4-2.8,3-3.8,5.3c-0.5,1-0.5,1.3-1.3,2.3c-1.9,2.9-2.4,3.9-2.2,5.7c0.1,0.9-0.1,1.9-0.4,2.5
c-3.2,5.5-3.2,8.3-2.8,12.6c0.1,1.2-0.1,2.5,0.1,4c0.1,0.9,0.5,1.8,0.9,3.3c0.1,0.6,0.4,1.2,0.5,2.1c0.6,2.7,5.3,4.4,8,2.9
c2.9-1.8,5.8-3.6,7.4-6.2c1.3-2.6,2.4-3.9,4.1-5.6c2-1.7,3.9-4.1,5.3-8.5l0.9-3.2c0.5-1,1-2.3,1.2-3.2c0.8-1.6,1.9-2.6,4.2-3.8
c0.6-0.4,2.2,0.7,2.3,1.6c0.6,3,1,4.5,0.6,5.8c-0.9,6.2,0.2,11.4,4,15.9c1.8,2.9,5.7,5,10,5.2c2.1-0.5,3.9-1,5.7-1.8
c3.9-1,10.5-2.2,16.3-9.6l3.3-4c2-1.7,4-3.5,5.3-6c0.5-1.3,1.1-1.6,1.8-3.6c0.7-1.9,1.8-3.9,2.9-5.5c0.2-0.6,0.5-1,1.1-1.6
c0.2-0.6,0.8-1.3,1.1-1.6c0.5-1,1.8-0.8,3.4,0.3C267.3,80,267.4,81.3,267,82.5z M301.8,105.9c-3.1,0-5.7-1.6-7.2-4.5
c-2.2-3.8-4.7-7.5-3.6-11.9l2.9-11.7c0.2-0.6,0.2-0.9,1-1.9c1.9-2.3,2.4-3.3,1.1-4.7c-0.8-1.5-3.3-2.1-5.2-2.6
c-1.2-0.2-1.2-0.2-1.9-0.4c-0.6,0.1-1.6-0.8-2.9-1.6c-3.6-2.7-6.2-3.4-8.5-2.3c-2.6,1.8-4.2,4.7-4.5,7.5l-6.3,11.7
c-0.2,0.6-0.6,0.7-0.8,1.3c-1,1.9-2.1,3.9-3.5,5.3l-1.2,0.1c-0.9,0.1-3-2.2-2.7-2.5c0.8-1.3,1-2.2,2.1-4.2c0.7-2.2,1.4-4.4,2.8-5.8
c2.1-3.3,3.2-5.5,5.4-11.3c0.7-1.9,1.4-4.1,2.2-5.7c1.3-2.6,1-5.3-0.6-9.8c-0.8-1.8-1-3.9,0.4-5.9l2.6-4.6c0.2-0.6,0.8-1.6,0.7-1.9
c2.5-3,4.8-4.2,8.9-3c1.9,0.4,3.4,3.4,2.3,5c-1.9,2.9-3.4,6.2-4.5,10.3c-1.3,2.3-0.9,3.8,0.9,6.4c2.5,3.8,8.7,7.2,15.2,8.1
c1.6,0.2,3.5,0.9,5.4,1.3c0.9,0.2,1.3,0.5,1.9,0.4c0.6,0.2,1.5,2.6,1.3,3.6c-0.8,1-1.3,2-2.4,3.9c-0.5,1.3-1.6,2.9-2.1,3.9
c-3.2,5.2-3.6,10.5-1.8,16.2c1.5,6.3,4.2,8.2,10.6,7.9c1.8-0.2,2.1-0.2,2.8,0c3.9-0.7,7.9-1.4,12.5-4.3c0.8-1.6,1.6-2.3,2.2-2.4
c2.3-1.1,3.8-2.2,5.2-3.9c1.1-1,1.7-2,2.8-2.4c2.8-2.4,5.1-4.8,5.7-7.6c0.5-1,0.8-1.3,1.9-2.6c0.8-1,1.7-2,1.6-2.3
c1.8-4.2,3.1-6.1,4-6.2c0.6-0.1,1.6,0.8,2.7,2.2c0.1,0.6-0.8,4.7-1.4,4.7l-1,1.9c-0.5,1.3-1,2.2-1.8,3.2c-0.2,0.6-0.5,1-1.4,1.7
c-1.7,1.4-2,2-2.7,3.9c-0.5,1.6-3.2,5.2-4.1,5.6c-1.4,1.1-2,1.7-4,2.8c-1.7,1.1-4.1,2.5-5.7,4.9c-4.3,3.5-6.4,3.4-11.6,4.2
C312.2,108.3,307.3,109.1,301.8,105.9z M348.1,95.6c-3-5.2-3.9-8.5-3.6-11.9c0.1-2.2,0.3-3.7,0.3-6.8c-0.1-4-0.1-7.7,1.4-11.5
c0.2-1.2,0.4-1.9,1.1-4.1c0.2-1.2,0.6-2.8,1.1-4.1c1.4-4.7,3.5-8.3,6-11c4.2-4.4,7.7-6.3,12.3-6.4c1.8-0.2,3.4,0.3,5.4,1.9
c3.7,3,4.5,5.7,2.7,9.3c-0.9,3.2-1.3,5.4-1.2,7.2c-0.2,7.4-4.4,11.8-9.2,16.6c-1.2,0.7-1.7,1.4-4.4,2.6c-7,3.8-9,2.4-6,14.1
c1.5,3.2,4.2,5.4,9,7.1c9.5,3.1,14.3,1.7,20.7-2l2.9-1.5c1.8-0.8,3.2-1.8,5-2.3c0.9-0.4,2-1.1,2.9-1.8c2.3-2.1,3.7-3.4,6.8-5.9
c3.7-2.8,7.4-5.6,10.9-10.9l4-6.2c0.8-1.6,2.7-3.6,3.5-4.6c0.9-0.7,1.5-0.8,2.8,0.3c0.6-0.1,1.1,1.4,0.6,3c-0.3,0.3-0.5,1-0.7,1.9
c-0.5,1.6-0.7,2.5-1,2.6c-1.9,2.9-2.7,4.3-4.9,6.9c-0.8,1.3-2.2,3-3.6,4.6c-3,4.3-6.3,7.7-10.4,9.9c-2.3,1.5-5,2.6-6.3,4.6
c-8,6-12.9,6.8-21.3,8.5l-1.5,0.1C364,107.3,353.1,102.8,348.1,95.6z M357.6,72.6c3.5-1.9,6-4.9,6.6-7.7c0.4-1.9,1-2.9,1.7-4.5
c2.1-3.3,2.6-4.9,2.4-7l-0.1-1.5c-0.3-3.4-1.7-5.4-4.2-5.1c-1.6-0.2-3,0.6-4.1,2.2c-0.9,0.7-0.8,1-0.8,1c-1.7,1.7-2.5,3-3.7,6.2
c-0.5,1.3-0.2,0.9-0.5,1.3c-1.3,2.3-1.8,4.2-1.9,8.5c-0.2,1.6-0.3,3.4-0.7,5c0.1,0.6,0.1,1.5,0.5,2.1
C352.9,74.6,356.8,73.6,357.6,72.6z M437,96c-0.9-0.2-1.3-1.1-1.5-2.3c-0.5-5.5,3-10.4,7.9-10.3c0.6-0.7,2.2,0.4,2.6,1.6
c1,3.6,0.1,7.4-2.1,10c-1.2,0.7-1.7,1.1-5.4,1.4L437,96z`;

const labelPath = `M82.1,1.5c0.1-0.1,0.2-0.1,0.3-0.1c0.6,0,2.1,2.5,2.3,2.9c0.8-0.2,1.7-0.3,2.6-0.3c0.8,0,1.6,0.1,2.4,0.3
c0.6-0.9,1.1-1.8,1.6-2.7c0.1-0.3,0.3-0.4,0.4-0.4c0,0,0.1,0,0.1,0C95,2.8,95.4,3,95.4,3.4c0,0.1-0.3,0.8-1.8,2.8
c2,1.9,2.1,4.7,2.1,5.3c0,2.3-1,4.6-3,6.7c-0.2,0.2-0.4,0.3-0.5,0.3c-0.3,0-2.9-1.3-3-1.3c-0.2-0.1-0.3-0.2-0.3-0.3
c0-0.1,0.1-0.2,0.2-0.4c1.5-1.4,2.5-3.4,2.5-5.2c0-0.6-0.1-1.2-0.4-1.7c0-0.1-0.1-0.1-0.1-0.2C87,14.6,83.9,17,82.8,17
c-0.3,0-0.5-0.1-0.7-0.4c-1.5-2.5-2.2-4.6-2.2-6.4c0-1.6,0.5-2.9,1.4-3.9c-2-2.4-2.1-2.5-2.1-2.7c0-0.1,0.1-0.3,0.2-0.3L82.1,1.5z
 M84.6,9.7c-0.1,0.1-0.2,0.1-0.2,0.1c-0.2,0-0.3-0.1-0.7-0.6c-0.1,0.3-0.2,0.7-0.2,1c0,0.7,0.4,1.7,0.6,1.7c0.1,0,1.3-1.3,3.7-4.6
c-0.1,0-0.3,0-0.4,0c-0.4,0-0.8,0-1.2,0.1c0.1,0.2,0.2,0.4,0.2,0.6c0,0.1,0.1,0.2,0.1,0.3c0,0.1,0,0.2-0.2,0.3L84.6,9.7z M107.5,13
c-0.2-0.1-0.3-0.2-0.3-0.4c0-0.1,0-0.1,0-0.2c0.7-1.8,1.3-3.7,1.9-5.5l-1.8-0.2c-0.2,0-0.4-0.2-0.4-0.4v0l0.3-3.3
c0-0.2,0.2-0.4,0.4-0.4h0l2.6,0.2c0.2-0.6,0.3-1.2,0.4-1.7c0.1-0.2,0.1-0.4,0.4-0.4h0.1l3.5,0.3c0.3,0,0.4,0.3,0.4,0.5
c0,0.2-0.2,1.2-0.3,1.7l1,0.1c0.2,0,0.4,0.2,0.4,0.4v0l-0.3,3.3c0,0.2-0.2,0.4-0.4,0.4h0l-1.7-0.2c-0.6,2.1-1.4,4.2-2.3,6
c-0.1,0.2-0.2,0.4-0.5,0.4c0,0-0.1,0-0.1,0L107.5,13z M121.4,17.8c0,0.4-0.4,0.4-1.3,0.4c-3.6,0-6.8-1.4-6.8-2.1c0-0.1,0-0.1,0-0.2
l1.2-2.8c0.1-0.2,0.2-0.3,0.3-0.3c0.1,0,0.2,0,0.4,0.1c1.4,0.5,3.7,0.9,5.9,1c0.2,0,0.4,0.1,0.4,0.5L121.4,17.8z M117.4,8.3
c-0.1-0.1-0.2-0.2-0.2-0.3c0-0.1,0-0.1,0.1-0.2l1.3-2.7c0.1-0.2,0.2-0.3,0.3-0.3c0.6,0,3.7,1.1,4.3,1.5c0.1,0.1,0.3,0.2,0.3,0.4
c0,0.1,0,0.2-0.1,0.3l-1.3,3.1c-0.1,0.2-0.2,0.3-0.4,0.3c-0.1,0-0.2,0-0.2-0.1L117.4,8.3z M137,18c-0.2,0-0.4-0.1-0.4-0.7v-4.2
c-0.2,0.4-0.4,0.8-0.5,1.1c-0.1,0.2-0.2,0.3-0.4,0.3c-0.1,0-0.3,0-0.4-0.1c-0.6-0.3-1.7-0.8-2.3-1.2c-0.2-0.1-0.3-0.3-0.3-0.5
c0-0.3,2-3.7,2.3-4.1l-2.2-1c-0.1-0.1-0.2-0.1-0.2-0.3c0-0.1,0-0.1,0.1-0.2l1.6-2.5c0.1-0.1,0.2-0.2,0.3-0.2c0.3,0,1.4,0.4,2,0.6
l0-3.4c0-0.3,0.2-0.5,0.4-0.5h3.3c0.2,0,0.5,0.2,0.5,0.4v2.5c0.6-0.1,1.2-0.2,1.8-0.2c3.5,0,7.1,2.1,7.2,6.5c0.2,0,0.6,0,0.8,0.1
c0.2,0,0.3,0.1,0.3,0.8c0,0.9-0.1,2.3-0.1,2.8c0,0.4-0.2,0.5-0.4,0.5c-0.4,0-0.7,0-1-0.1c-0.6,2-2.5,3.3-4.4,3.3
c-1,0-3.6-0.6-3.6-3.4c0-1.8,1.1-3.8,4.2-3.8c-0.2-2.1-1.8-2.9-3.2-2.9c-0.5,0-1.1,0.1-1.7,0.4l0,9.2c0,0.4-0.2,0.6-0.6,0.6H137z
 M145.3,13.4c-0.6,0-1.3,0.2-1.3,0.7c0,0.4,0.3,0.7,0.6,0.7c0.5,0,1-0.5,1.1-1.3C145.6,13.4,145.5,13.4,145.3,13.4z M170.7,13.2
c0,1.1-5.1,3-6.4,3c-0.3,0-0.6-0.1-0.7-0.4c-1.6-2.5-2.3-4.8-2.3-6.7c0-4.7,4.1-6.7,7.9-6.7c5.5,0,8.9,3.6,8.9,8.1
c0,2.5-1.2,5-3.3,7.1c-0.2,0.2-0.5,0.3-0.7,0.3c-0.1,0-0.3-0.1-0.4-0.1c-3.1-1.5-3.1-1.5-3.1-1.8c0-0.1,0.1-0.2,0.2-0.4
c1.7-1.5,2.6-3.5,2.6-5.2c0-1.6-1.1-4.1-4.3-4.1c-2.2,0-3.9,1.2-3.9,3c0,0.1,0.1,1.8,0.8,1.8c0,0,0.1,0,0.1,0
c0.7-0.4,2.2-1.2,2.7-1.5c0.2-0.1,0.3-0.1,0.4-0.1c0.1,0,0.2,0.1,0.3,0.2C169.6,9.7,170.7,12.9,170.7,13.2z M196.9,14.4
c0,2.2-1.9,3.3-4,3.3c-2,0-4.6-1.1-4.6-4.2c0-2.7,1.9-4.6,4.4-5.4V6.8l-2.7,0.1c-0.2,0-0.4-0.2-0.4-0.4l-0.1-2.9v0
c0-0.2,0.2-0.3,0.4-0.4l2.7-0.1c0-0.5,0-0.8,0-1c0-0.2,0-0.4,0.4-0.4h3.3c0.3,0,0.5,0.3,0.5,0.6v0.8l1.2,0h0c0.2,0,0.4,0.2,0.4,0.4
l0,2.9c0,0.2-0.2,0.4-0.4,0.4l-1.3,0c0,0.3,0,0.6,0,0.9c4.6,0.4,7.5,3.7,7.5,7.1c0,2.2-1.2,3.9-1.7,3.9c-0.3,0-2.9-1.2-3-1.3
c-0.1-0.1-0.2-0.2-0.2-0.3c0-0.1,0-0.1,0.1-0.2c0.3-0.4,0.5-1.2,0.5-2c0-2.2-1.8-3-3.1-3.2L196.9,14.4L196.9,14.4z M192.8,11.8
c-0.6,0.2-1.2,0.6-1.2,1.4c0,0.7,0.5,0.7,0.6,0.7c0.3,0,0.6-0.2,0.6-0.6V11.8z M203.1,9.3c-0.1,0.1-0.2,0.1-0.3,0.1
c-0.1,0-0.2-0.1-0.3-0.2c-0.7-0.8-2.3-2.7-2.9-3.4c0-0.1-0.1-0.1-0.1-0.2c0-0.1,0-0.2,0.2-0.3l1.9-1.5c0.1-0.1,0.2-0.1,0.3-0.1
c0.5,0,3.6,2.8,3.6,3.4c0,0.1,0,0.2-0.2,0.3L203.1,9.3z M227.3,2.6c0.2,0.1,0.3,0.3,0.3,0.5c0,0.1-0.1,0.3-0.2,0.4
c-1.5,2.1-3.8,5.6-3.8,6.2c0,0.1,0,0.2,0.2,0.4c1.9,2,4.7,5,4.7,5.8c0,0.3-0.2,0.6-2.6,2.5c-0.1,0.1-0.2,0.1-0.3,0.1
c-0.2,0-0.3,0-0.4-0.1c0,0-4.3-4.4-6.1-6.1c-0.5-0.5-0.7-0.9-0.7-1.3c0-1.5,2.1-6,5.4-9.7c0.1-0.1,0.2-0.2,0.4-0.2
c0.1,0,0.2,0,0.3,0.1L227.3,2.6z M254.2,6.9c0.1,1.2,0.1,2.3,0.1,3.5c0.4,0.7,0.7,1.6,0.7,2.6c0,1.3-0.4,3-1.5,4.9
c-0.3,0.4-0.4,0.5-3,0.5c-0.8,0-0.8-0.1-0.8-0.2c0-0.1,0-0.1,0.1-0.2c0.3-0.7,0.5-1.4,0.7-2c-0.4,0.1-0.8,0.1-1.3,0.1
c-1.9,0-4.2-0.9-4.2-3.8c0-2.9,2.3-4.3,4.7-4.3h0.1l-0.1-1.2l-6.3-0.3c-0.2,0-0.4-0.2-0.4-0.4l0.1-3.3c0-0.2,0.2-0.4,0.4-0.4
l5.9,0.2L249.3,1V1c0-0.2,0.1-0.3,0.4-0.4l3.4-0.2h0c0.4,0,0.5,0.2,0.7,2.5l4.5,0.2c0.2,0,0.4,0.2,0.4,0.4l-0.1,3.2
c0,0.2-0.2,0.4-0.4,0.4L254.2,6.9z M249.3,11.1c-0.5,0-0.9,0.3-0.9,0.7c0,0.3,0.2,0.9,0.8,0.9c0.7,0,0.8-0.7,0.8-1.4
C249.8,11.2,249.6,11.1,249.3,11.1z M271.2,9.8c-0.2-0.1-0.4-0.2-0.4-0.5c0-1.3,0.7-4.3,0.8-4.7c0.1-0.3,0.2-0.4,0.5-0.4
c0,0,0.1,0,0.1,0l3.6,0.6c0.2,0,0.4,0.2,0.4,0.6c0,0.1,0,0.1,0,0.2l-0.6,4.3c0,0.2-0.3,0.5-0.6,0.5c-0.1,0-0.1,0-0.2,0L271.2,9.8z
 M278.5,17.2c-0.2-0.1-0.3-0.2-0.3-0.3c0-0.1,0-0.3,0.1-0.4c0.7-1.3,1-2.9,1-4.6c0-3-0.9-6.2-1.7-8.6c0-0.1-0.1-0.2-0.1-0.3
c0-0.2,0.1-0.4,0.4-0.5l3.6-0.9c0.1,0,0.2,0,0.3,0c0.4,0,0.5,0.3,0.6,0.5c1.1,2.7,2.1,6.1,2.1,9.3c0,2.5-0.6,4.9-2,6.8
c-0.2,0.2-0.4,0.3-0.6,0.3c-0.1,0-0.3,0-0.5-0.1L278.5,17.2z M297.7,17.2c-0.1,0-0.1,0-0.2,0c-0.2,0-0.4-0.1-0.4-0.4l-0.5-7.3
l-0.9-0.1c-0.3,0-0.5-0.3-0.5-0.5c0-0.1,0-0.1,0-0.2l2.3-7.1c0.1-0.2,0.2-0.3,0.4-0.3c0.1,0,0.2,0,0.2,0l3,1
c0.2,0.1,0.3,0.2,0.3,0.4c0,0.1,0,0.2,0,0.2l-1.8,5.4l0.5,0c0.3,0,0.5,0.2,0.5,0.4l0.5,7V16c0,0.4-0.2,0.6-0.5,0.7L297.7,17.2z
 M313,18.4l-9.9-0.2c-0.6,0-1-0.3-1-0.9L302,1.8c0-0.5,0.4-0.9,0.9-0.9l8.6-0.5h0.3c1.8,0,2.6,1.1,2.6,3.1v0.1l-0.2,13.7
C314.1,18,313.7,18.4,313,18.4L313,18.4z M310.6,5.1c0-0.7-0.3-0.9-0.8-0.9h-0.1L305,4.3l0.1,10.9l5.4,0.1L310.6,5.1z M306.4,14.6
c-0.3,0-0.5-0.2-0.5-0.4l-0.1-3.3v0c0-0.3,0.2-0.5,0.4-0.5h0.1V9l-0.4,0c-0.3,0-0.4-0.1-0.4-0.4l0-1.8c0-0.3,0.1-0.4,0.3-0.4l0.5,0
l0-1.1c0-0.2,0.1-0.3,0.3-0.3l1.9,0.1c0.2,0,0.3,0.1,0.3,0.3l0,0.8l0.6,0h0c0.2,0,0.3,0.2,0.3,0.4l0,1.7c0,0.3-0.1,0.4-0.3,0.4
l-0.7,0l0,1.3c0.6,0.1,0.9,0.6,0.9,1.2v0.1l-0.1,2.5c0,0.4-0.3,0.5-0.5,0.5L306.4,14.6z M308.1,12.2c0-0.2-0.1-0.3-0.3-0.3h0
l-0.6,0.1v1.3l0.9,0L308.1,12.2z M333.2,14.6l0.1,1.1l1.1-0.1h0.1c0.2,0,0.2,0.1,0.2,0.3l-0.1,1.9c0,0.3-0.2,0.5-0.5,0.5l-4.9,0.5
h-0.1c-0.3,0-0.5-0.2-0.6-0.5l-0.2-1.9v-0.1c0-0.2,0.1-0.3,0.3-0.3l0.9-0.1l-0.1-1.3l-1.8,0.1c-0.1,1-0.4,2.1-0.7,2.8
c-0.2,0.4-0.6,0.5-1,0.5c-0.2,0-0.3,0-0.4-0.1l-2.7-0.9c-0.2-0.1-0.3-0.3-0.3-0.5c0-0.1,0-0.1,0-0.2c0.7-1.4,1.1-4.1,1.1-4.9
l0.1-8.5c0-1.8,1.1-2.7,2.3-2.7l12-0.3h0.1c1.6,0,2.5,0.7,2.6,2.5l0.1,3.6v0c0,0.7-0.4,1.1-1.1,1.1l-11.7,0.2l-0.1,4.3
c0,0.2,0,0.3,0,0.5l2.3-0.1l-0.1-1.2h-1c-0.3,0-0.4-0.1-0.4-0.3l0-1.6c0-0.2,0.1-0.3,0.2-0.3h0.9l0-0.3v0c0-0.2,0.2-0.3,0.3-0.3
l2.6-0.1c0.2,0,0.4,0.1,0.4,0.3l0,0.5h2.1l0-0.5c0-0.3,0.2-0.4,0.4-0.4l3.1,0.1c0.2,0,0.4,0.1,0.4,0.3v0l0,0.4h1.1
c0.3,0,0.4,0.1,0.4,0.3l0,1.6c0,0.2-0.1,0.3-0.3,0.3h-1.2l-0.1,0.9l1.9-0.1h0.1c0.2,0,0.4,0.1,0.4,0.3l0.1,1.6v0.1
c0,0.2-0.1,0.4-0.4,0.4L333.2,14.6z M336.4,3.8c0-0.4-0.2-0.6-0.6-0.6h-0.1l-7,0.2c-0.4,0-0.6,0.3-0.6,0.7l0,1l8.3-0.2L336.4,3.8z
 M335.3,11l-1.9,0l0.1,1.3l1.7-0.1L335.3,11z M340.4,18.5c-0.1,0.2-0.4,0.3-0.7,0.3c-0.2,0-0.5,0-0.7-0.1l-3.7-1.8
c-0.2-0.1-0.2-0.2-0.2-0.3c0-0.1,0-0.2,0.1-0.3l1.1-1.6c0.1-0.1,0.2-0.2,0.4-0.2c0.1,0,0.2,0,0.3,0.1l1.5,0.6l0.2-0.4
c0.1-0.2,0.2-0.2,0.4-0.2c0.1,0,0.1,0,0.2,0.1l1.7,0.7c0.1,0.1,0.2,0.2,0.2,0.3c0,0.1,0,0.1-0.1,0.2l-0.2,0.4l0.4,0.2
c0.2,0.1,0.3,0.2,0.3,0.3c0,0.1-0.1,0.2-0.1,0.3L340.4,18.5z`;

const attrs = {
  width: 448.5,
  height: 142,
};

const MASK_ID = "title__share-mask";

export default function StoryTitle() {
  const [targetRef, isIntersected] = useIntersectionObserver<HTMLDivElement>(
    {}
  );

  return (
    <Wrapper ref={targetRef}>
      <Svg viewBox={`0 0 ${attrs.width} ${attrs.height}`}>
        <mask id={MASK_ID}>
          <PolyLine
            isIntersected={isIntersected}
            points={`4.5,110 22.5,68 16,67.5 23,84.5 27,97.5 32,105.5 34,112.5 36,119.5 32,128.5 29,134.5 24,137.5 
            17,137.5 10,134.5 7,129.5 30,137.5 39,137.5 48,134.5 57,129.5 69,118.5 78,108.5 81,98.5 89,78.5 94,51.5 101,24.5 103,14.5 
            98,47.5 94,61.5 83,113.5 79,130.5 90,112.5 96,103.5 101,93.5 107,87.5 113,83.5 120,81.5 124,85.5 126,94.5 124,103.5 
            124,113.5 128,119.5 135,123.5 142,123.5 151,118.5 157,110.5 166,101.5 169,91.5`}
          />
          <PolyLine
            isIntersected={isIntersected}
            points={`214,71.5 209,64.5 200,62.5 192,64.5 185,71.5 180,78.5 175,87.5 174,99.5 174,108.5 177,115.5 
            183,117.5 193,113.5 200,103.5 207,95.5 208,84.5 209,103.5 212,109.5 218,113.5 227,115.5 237,112.5 247,108.5 256,96.5 
            267,76.5 276,58.5 281,39.5 276,39.5 274,46.5 275,53.5 284,62.5 293,67.5 301,68.5 301,73.5 295,79.5 295,89.5 295,96.5 
            301,101.5 310,106.5 323,102.5 332,96.5 342,85.5 350,78.5 362,72.5 368,64.5 371,51.5 368,43.5 360,44.5 354,52.5 350,66.5 
            349,89.5 354,96.5 362,101.5 374,103.5 388,99.5 399,91.5 413,78.5 420,67.5`}
          />
          <PolyLine
            isIntersected={isIntersected}
            points={`439,92.5 444,86.5`}
          />
        </mask>
        <Line d={linePath} mask={`url(#${MASK_ID})`} />
        <Label d={labelPath} isIntersected={isIntersected} />
        <g>
          <Word
            isIntersected={isIntersected}
            d={`M89.2,58.4c3.3,0.9,6.6,1.9,9.9,2.8c1.3,0.4,1.8,1.9,1,2.9c-1.8,2.4-3.8,5-5.8,7.6c0.1,3.4,0.1,6.7-0.1,10.1
            c-0.1,1.2-1.2,2-2.3,1.7C89,82.9,86,82,82.9,81c-3,1.3-5.9,2.4-8.7,3.4c-1.1,0.4-2.3-0.4-2.5-1.6c-0.4-3.4-0.7-6.8-0.8-10.2
            c-2.2-2.5-4.3-5-6.4-7.3c-0.9-1-0.5-2.6,0.8-3c3.2-1.1,6.4-2.3,9.6-3.5c1.8-2.8,3.6-5.7,5.3-8.5c0.7-1.2,2.4-1.2,3.1-0.1
            C85.2,53,87.2,55.7,89.2,58.4z`}
          />
          <Word
            isIntersected={isIntersected}
            d={`M138,71.1c-0.5,0.2-0.8,0.3-1.1,0.3c-0.5,0-0.7-0.3-1-0.8c-6.2-9.3-6.5-10.2-6.5-10.8c0-0.3,0.1-0.6,0.4-0.7
            l7.8-3.3c0.4-0.2,0.8-0.3,1.2-0.3c0.4,0,0.8,0.1,1.2,0.4c2.1,1.7,8,7.6,8,10c0,0.4-0.2,0.8-0.8,1.1L138,71.1z M177.6,71.7
            c0.1,0.2,0.1,0.3,0.1,0.4c0,0.4-0.2,0.8-0.6,1.1c-10,7.9-21.3,13.8-32.4,17.1c-0.2,0.1-0.3,0.1-0.5,0.1c-0.4,0-0.8-0.2-1-0.6
            l-5.3-9.4c-0.1-0.2-0.2-0.3-0.2-0.5c0-0.4,0.3-0.8,0.7-1c8.8-3.4,26.2-11.5,33.1-15.9c0.2-0.1,0.3-0.1,0.5-0.1
            c0.4,0,0.8,0.2,1,0.6L177.6,71.7z M153.3,58.8c-0.6,0.5-0.9,0.7-1.2,0.7c-0.3,0-0.6-0.2-1-0.5c-8.7-7.3-9.3-8.2-9.3-8.9
            c0-0.2,0.1-0.4,0.3-0.6l6.4-5.2c0.5-0.4,1-0.7,1.6-0.7c1.2,0,11.2,5.4,11.2,7.9c0,0.3-0.2,0.6-0.5,0.9L153.3,58.8z`}
          />
          <Word
            isIntersected={isIntersected}
            d={`M195.7,88.7h-0.1c-0.6,0-1-0.5-1.1-1.1l-0.4-6.5c0-0.5,0.1-1.1,0.8-1.2l9.4-0.4V67l-6.9-0.1
            c-0.6-0.1-1.1-0.5-1.1-1.1v-0.1l0.1-6.5c0.1-0.6,0.6-1.1,1.2-1.1l23.6,0.4c0.7,0.1,1.1,0.6,1.1,1.2l-0.1,6.5
            c0,0.6-0.5,1.1-1.1,1.1h-0.1l-6.8-0.1V79l10-0.5c0.6,0,1.4,0.4,1.4,1.1l0.5,6.5c0,0.7-0.5,1.2-1.1,1.2L195.7,88.7z`}
          />
          <Word
            isIntersected={isIntersected}
            d={`M245.4,56.3c-0.6-0.1-1.1-0.6-1.1-1.2v-0.1l0.8-9c0.1-0.6,0.6-1.1,1.2-1.1h0.1l35.9,2.9
            c2.5,0.2,6.1,1.8,6.1,5.5c0,3.2-2.3,11-7.8,16.4c-0.2,0.3-0.7,0.7-1.5,0.7c-0.2,0-0.4,0-0.7-0.1c-6.9-2.3-8.2-2.7-8.2-4
            c0-0.3,0.1-0.6,0.2-1c1.5-4.8,1.5-5.5,1.5-5.6c0-0.6-0.3-0.8-1.1-1L245.4,56.3z M246.9,86c-0.6-0.3-0.8-0.8-0.8-1.2
            c0-0.6,0.3-1.2,0.6-1.6c3.1-4.5,6.4-13.5,7.7-18.4c0.2-0.8,0.8-1.4,1.6-1.4c0.2,0,0.4,0,0.6,0.1l9.8,2.2c1.2,0.3,1.7,0.9,1.7,1.8
            v0.3C267,77.8,257.7,90,254.5,90c-0.4,0-0.9-0.2-1.5-0.5L246.9,86z`}
          />
          <Word
            isIntersected={isIntersected}
            d={`M349,58.4c3.3,0.9,6.6,1.9,9.9,2.8c1.3,0.4,1.8,1.9,1,2.9c-1.8,2.4-3.8,5-5.8,7.6c0.1,3.4,0.1,6.7-0.1,10.1
            c-0.1,1.2-1.2,2-2.3,1.7c-2.9-0.7-5.9-1.6-9-2.6c-3,1.3-5.9,2.4-8.7,3.4c-1.1,0.4-2.3-0.4-2.5-1.6c-0.4-3.4-0.7-6.8-0.8-10.2
            c-2.2-2.5-4.3-5-6.4-7.3c-0.9-1-0.5-2.6,0.8-3c3.2-1.1,6.4-2.3,9.6-3.5c1.8-2.8,3.6-5.7,5.3-8.5c0.7-1.2,2.4-1.2,3.1-0.1
            C345,53,347,55.7,349,58.4z`}
          />
        </g>
      </Svg>
    </Wrapper>
  );
}

const Wrapper = styled.div``;

const Svg = styled.svg`
  width: 398px;
  overflow: visible;

  ${media.smallDown} {
    width: 260px;
  }
`;

const Line = styled.path`
  fill: #fff;
  fill-opacity: 0.4;
`;

const popin = keyframes`
  from {
    opacity: 0;
  }
  50%,
  to {
    opacity: 1;
  }

  from {
    transform: translateY(20px);
  }
  50% {
    transform: translateY(-8px);
  }
  to {
    transform: translateY(0);
  }
`;

const Label = styled.path<{ isIntersected: boolean }>`
  fill: #fff;
  opacity: 0;

  ${({ isIntersected }) =>
    isIntersected &&
    css`
      animation: ${popin} 0.4s ease-out 0s both;
    `}
`;

const Word = styled.path<{ isIntersected: boolean }>`
  fill: #fff;
  opacity: 0;

  ${({ isIntersected }) =>
    isIntersected &&
    css`
      animation: ${popin} 0.4s ease-out 0.1s both;

      &:nth-of-type(2) {
        animation-delay: 0.15s;
      }
      &:nth-of-type(3) {
        animation-delay: 0.2s;
      }
      &:nth-of-type(4) {
        animation-delay: 0.25s;
      }
      &:nth-of-type(5) {
        animation-delay: 0.3s;
      }
      &:nth-of-type(6) {
        animation-delay: 0.35s;
      }
      &:nth-of-type(7) {
        animation-delay: 0.4s;
      }
      &:nth-of-type(8) {
        animation-delay: 0.45s;
      }
    `}
`;

const drawLine = (length: number) => keyframes`
  from {
    opacity: 0;
  }
  10%,
  to {
    opacity: 1;
  }

  from {
    stroke-dasharray: 0 ${length};
  }
  to {
    stroke-dasharray: ${length} ${length};
  }
`;

const PolyLine = styled.polyline<{ isIntersected: boolean }>`
  fill: none;
  stroke-width: 9;
  stroke: #fff;
  stroke-linejoin: round;
  stroke-linecap: round;
  opacity: 0;

  ${({ isIntersected }) =>
    isIntersected &&
    css`
      &:nth-of-type(1) {
        animation: ${drawLine(615)} 0.35s ease-in-out 0s both;
      }
      &:nth-of-type(2) {
        animation: ${drawLine(616)} 0.35s ease-in-out 0.3s both;
      }
      &:nth-of-type(3) {
        animation: ${drawLine(7.8)} 0.1s ease-in-out 0.6s both;
      }
    `}
`;
