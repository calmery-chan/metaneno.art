import { keyframes, css } from "@emotion/react";
import styled from "@emotion/styled";
import React from "react";
import { useIntersectionObserver } from "../hooks";
import { media } from "../variables";

const linePath = `M13.5,129.2c-2.2-0.3-2.8-0.6-3.4-1.3c-2.4-2-4.9-4.8-7.1-8.1L2,110.5C0.7,101.8,2.3,93.4,4.3,85
c0.1-1.7,0.8-3.1,1.5-4c1-1.5,2.9-1.4,4.1,0.2c0.3,0,0.6,0.8,0.7,1.6l-2.4,18.1c-0.7,4.5-0.5,9.4,0.7,15.6c0.7,4.1,3.1,6.6,7.1,7.8
c0.5-0.1,0.5-0.1,2,0.4c0.6,0.5,0.9,0.5,1.4,0.7c1.1,0.2,2.8,0.3,4.4-0.1c3.8-0.9,6.6-2.8,10.6-6.5c3.6-3.1,6.8-6.2,9.2-10
c0.9-1.7,1.6-2.9,2.9-4.4c1.5-2.1,3.1-4.4,5-8.5c0.6-2,1.1-2.6,3.5-3.6c0.5-0.3,1.4,0.1,1.7,0.9c0.1,1.4,0.2,1.6-0.3,2.5
c-0.4,1.1-0.7,1.7-0.8,2.8c-1,1.5-2.1,4.1-2.5,5.2c-0.5,0.6-0.7,1.2-1.7,2.6c-1.7,2.6-4.1,6.2-7.3,9.8c-2.9,3.9-6.2,7.2-9.3,9.1
c-7.3,4.3-12.9,5.9-18.8,4.3C15.1,129.3,14.3,129.4,13.5,129.2z M11.2,40.3c-0.5-1.9,0-3,1-4.2c0.8-0.4,1-0.7,2.3-1.6l1.3-0.9
c1.6-1,3.3,0,3.7,1.6c0.9,3.8-1.7,7.6-4.8,7.6C13.1,42.6,11.6,41.7,11.2,40.3z M174.9,86.4c-1.4,2.3-2.1,4-3.2,6.9
c-1.6,3.5-2.7,6.6-5.3,10.4c-1.4,2.3-3.2,4.2-6.8,7c-0.2,0.6-0.5,0.6-1,1.2c-0.2,0.3-0.5,0.6-0.7,0.9l-0.8,0.4
c-1,0.7-1.8,1.3-2.9,1.4l-0.3,0c-3.7,1.7-7.4,3.5-12.2,4.2c-1.4-0.1-2.8,0-4.1,0.1c-6.6-0.2-10.4-2.3-15.5-6.5l-0.9-1.3
c-0.6-0.8-1.2-1.3-1.9-2.3c-0.9-0.7-1.2-1.3-1.9-2.8c-1.4-2.6-2.2-5.6-3-8.5c-0.2-1.9-1.5-3.7-3-5.5c-1.1,2.6-2.1,4.1-3.1,4.4
L108,97c-2.3,4.6-3.9,8.1-7,13c-1.2,2-2.7,3.6-7,7c-1.3,1.2-3.1,2.5-4,4c-5.7,3.3-11.8,6.4-17.5,6.4l-2.5-0.6
c-1.9-0.1-2.5,0-3.9-0.7l-2-0.9c-4-1.3-5.2-2.5-6.5-4.9l-0.3-0.2l-2.1-2.3l0.3,0.2c-0.6-0.8-1-1.8-1.4-2.9c-0.7-1.9-1.1-2.6-2-3.7
c0.1-2.2-0.1-4.1-0.3-6.3c-0.3-3.3-0.6-6.5,0.5-9.4c1-3.9,1.3-6.7,0.7-10.2c-0.3-3-0.8-5.7,0.9-7.8c-0.9-4,0.1-7.4,1.4-11.1
c0.2-0.6,0.4-1.4,0.4-2c0.5-0.9,0.7-1.4,0.6-2c-1.3-5.4,0.1-10.2,1.9-15c0.4-1.7,1-3.7,1.4-5.1l0.6-2c1-3.7,1.1-5.3,0.7-7.2
c-0.1-0.8,0.1-1.9,0.4-2c1.7-2.6,2.3-4.6,3.2-9.4c-0.1-0.8,0.1-1.7,0.3-2.2c0.2-1.1,0.6-2,1.5-4c0.9-2,2.1-4,2.4-6s1-3.4,3.5-6.4
c0.5-0.6,1-1.5,1.5-1.8C74,1,74.2,0.7,75.8,0.3c0.8-0.4,1.6-0.2,3,0c4.7,0.4,7.2,3.7,6.6,9c0,0.3,0.1,0.8-0.2,1.1
c-0.1,2.2,0,3,0.4,4.6c0.3,0,0.4,1.3,0.5,1.9c-1.4,2.9-2.2,6-1.9,9.3C82,30,82.1,34.1,82,38.2c-0.2,0.8-0.7,1.7-1.6,3.7
c-0.2,0.6-0.2,0.6-0.2,0.8c-1.4,2.6-2,4.6-3,9.1l-1.5,4.5c-2.5,8.8-4.6,15.3-5.3,16.7c-2.3,4.9-4.8,10.1-7.6,15.3
c-0.4,1.1-0.9,1.7-2.1,3.5c-2.6,4.1-3.6,5.8-3.1,8.3c0.1,1.4,0.5,2.2,0.5,2.7c0.1,1.1,0.1,1.4,0,2.8c-0.3,2.2,0.1,3.6,1.1,5.9
l1.1,2.9c0.5,2.4,1.7,3.4,4.6,5.1c0.8,0.2,1.1,0.4,1.7,0.9c3.5,1.6,5.4,1.4,9.4,1c6.5-0.6,13.7-5.7,19-13.7c0.7-0.9,1-1.5,2.2-3
c2.2-3,4.9-6.2,5.7-9.6c0.2-0.8,0.4-1.4,1.4-2.9c0.7-1.2,1.2-1.8,1.4-2.3l0.5-0.9c0,0,0.2-0.3,0.2-0.6c0.2-1.1,2.3-4.9,2.1-4
c1.9-3.2,2.5-5.2,3.7-10.5c0.4-2,0.7-3.9,1.4-5.6c0.5-0.6,0.7-1.2,0.4-2c-0.1-4.4,0.4-7.7,0.8-11.4c0.3-2.2,0.9-4.8,1-7.2
c0.2-3.9,1.7-7.6,3-11.3c0.4-2,0.7-3.6,1.8-6.8c0.4-1.1,0.9-2.6,1.3-3.4c0.7-1.4,0.9-2,0.8-2.8c-1-4.3,0.9-7.5,2.5-11.2
c0.5-0.6,0.9-1.7,1.2-2c0.5-0.9,0.4-1.1,0.9-2.3c0.2-0.8,0.4-1.7,0.6-2c1.4-2.3,3.5-3.4,6.1-2.8c1.5,1,2.4,2.5,2.2,2.8
c0.5,2.4,1.1,5.4,0.2,8.2c-0.6,2.8-0.8,5.6-1.4,8.4c-2,10.9-3.9,22.1-7.6,32.3c-1.2,2-1.8,4-3.1,8.3c-1.1,3.1-2.1,6.5-3,8.8
c-1.8,4-2.7,6.6-1.9,8.4c0.7,4.3,0.6,6.3,0.2,10.2c-0.4,4.2,0.1,6.3,3,10.7c0.9,1.3,1.3,2.1,2,3.4c0.7,1.9,2.5,3.6,5.4,5
c2.8,3.3,8.3,3.9,15.3,2.4l-0.3-0.2c11.7-3.9,21.6-18.8,22.5-22.8c0.7-1.2,0.9-2,1.8-3.8l0.9-2c0.9-2,2-2.4,3.2-1.4
C175.3,82.6,175.8,85.3,174.9,86.4z M58.8,80c2.2,3.1,6.1-5.5,7.4-11.4c1.4-2.9,4.4-14.4,5.2-17.3c0.6-2,1-3.7,1.8-7
c0.5-3.1,1.3-6.2,2.5-8.8c1.4-2.9,2-4.9,2.9-9.9c0.1-1.7,0.5-3.3,0.9-4.8c0.4-1.7,0.5-3.3,0.7-6.7c0.2-0.8,0.4-2,0.3-2.8
c-0.6-0.5-0.3,0-0.3-0.5c-0.3-0.5-1.2-0.7-1.7-0.7l-0.3,0c-0.6-0.2-1.9,0.2-1.9,0.5c-1.8,1.5-3.6,3.1-3.9,5.6c-0.4,2-0.8,3.1-2.2,6
c-1.3,3.2-2.9,6.6-2.6,10.4c-0.2,0.3-0.2,0.6-0.2,0.6c-1.7,2.1-1.8,4.6-2.1,6.8l-1.5,7c-1.4,5.1-3,11.3-3,17.6
c0.1,0.5-0.2,0.8-0.5,3.1C58.3,75.4,57.8,78.7,58.8,80z M259.4,76.9c-1.6,3.2-3.2,6.6-4.6,9.2c-5,8.2-10,13.6-18.3,18
c-2.9,1.7-4,1.8-5.9,1.9c-1.1,0.1-2.5,0.2-4.1,0.7c-3.8,0.9-7.3-1.2-11.9-3.5c-0.3,0-1.2-0.7-2.1-2c-2.3-3.6-4.8-7.2-5-12.2
c-0.2-2.2-2.7-2.5-3.9-1c-1.3,1.2-2.2,2.4-3,3.6c-1.4,2.6-2.6,4.4-5.8,8.3c-0.7,1.2-2,2.4-2.7,3.3c-3.9,5-10.1,6.7-16.2,6.2
c-1.1-0.2-1.7-0.4-2.3-1.2c-1.2-1.3-2.8-3-4-4.8c-0.1-0.5-0.5-1.9-0.2-2.2c-1.6-8.4,0-13.8,1.9-20.5c1.8-7,3.3-13.8,4.3-20.8
c0.3-2.5,2.6-4.1,4.7-2.6c0.3,0,1.2,0.7,2.1,1.5c0.3,0,0.3,0.2,0.3,0.2c0.3,0.2,0.4,0.8-0.1,1.7c-0.2,0.6-0.5,0.9-0.7,1.2
c-1.4,2.9-2.2,6-2.1,9.8c-0.1,1.7-0.5,3.1-1.5,4.8c-0.9,2.3-1.3,3.4-1.5,4.5c-0.1,1.4-0.3,2.2-0.7,3.9c-0.6,2.8-1.1,6.2-1.3,8.9
c-0.3,3,1.1,5.4,4.1,8.7c0.6,0.5,2.5,0.3,2.8,0.3c4.4-2.6,8.3-4.9,10.5-8.2c1.7-2.6,2.5-4.9,4.8-10.1c1.8-3.8,3.7-7.8,5.5-11
c1.7-2.6,2.1-3.8,2.2-5.4c0.1-1.4,0.1-1.4,2.7-3c2.3-1.3,4.7-0.2,4.9,2.5c0.3,2.7,0.3,5.5-0.1,8c-0.3,2.2-0.4,4.4-0.2,9.4
c-0.2,0.6-0.2,1.1-0.1,1.7c0.1,3.6,1.7,6.4,4.8,10.3c4.6,5.1,9.3,5.7,15.7,2.9c2.9-1.1,4.5-1.5,6.5-3.7c0.2-0.3,0.5-0.3,1.3-0.7
c0.8-0.6,2.1-1.3,3-2.8c4.6-3.5,6.7-7.8,9-12.7l3-6.1c1-0.6,1.6-1,2.5-0.2C259.2,74.7,259.7,76.4,259.4,76.9z M266.8,107.3
c-1.1,0.1-1.7-0.1-2.5,0c-3.3-0.2-5.1-1.4-7.4-5.1l-0.1-1.1c-0.1-0.5-0.4-0.8-0.4-1.1c-0.3-2.7,0.2-3.6,1-3.7
c2.1-1.3,3.2-1.1,4.4-0.4c0.6,1,1.2,1.5,2.4,2.5c0.6,0.5,0.9,1,1.5,1.2c2.1,1.7,5.7,1.7,7.2,0.1c4.1-3.1,6.5-7.2,7.1-11.7
c0.1-2.2,0.2-3.3-0.1-4.4c-2.1-4.5-4.2-9.2-6-13.7c-1.4-2.6-1.8-4-2.5-5.8c0,0,0-0.3-0.3-0.5c-1.3-2.1-1.5-4.5-2.4-4.4
c-0.5,0.3-1.9,3.2-2.6,4.1l-0.5,0.9c-0.5,0.6-0.7,1.2-1.4,2.3c-0.2,0.8-0.4,1.7-1.3,3.2c-1,1.5-1.4,2.6-2.3,4.9
c-0.6,2-1.5,4-2.7,5.8c-1.8,1.8-2,1.8-4.9,0.5l0-0.3c1-3.4,2.1-6.8,4-9.7c2.6-4.1,3.7-7.5,5-10.7c1-3.4,1.3-4,3.4-7.5
c1-1.5,0.3-3-0.4-4.6c-0.4-1.3,0.1-4.4,0.8-5.9c1.4-2.6,6-3.9,8.8-3.3c0.3,0,1.2,1.5,0.9,1.3c-0.9,2-1.1,2.9-1.2,4.5
c-0.2,1.1-0.3,2.5-0.9,4.5c-1.6,3.5-1.4,5.4,0.9,9.8c0.7,1.6,1.3,2.3,1.8,4c0.7,1.6,2.3,3.9,3.8,5.7c2.2,2.8,2.8,3.6,3.2,4.9
c3.2,7.1,3.7,15.3,1.3,22.4l-0.5,0.9l0,0.3c-0.9,2,2.2,3.4,3.6,2.7c1.3-0.4,2.1-0.8,4-1.2c3.5-1.2,7.5-2.4,10.3-4.8l6.9-5.3
l0.2-0.3c0.2-0.3,0.2-0.6,1-1.2c1-0.6,2.3-1.9,2.7-3c3.3-2.8,8.2-9.6,11.4-15.7c0.2-0.8,2.2-2.4,4.1-0.4l0.1,1.1l-0.2,0.8
c-0.2,1.1-0.4,1.7-1.1,2.6c-0.4,1.7-1.4,2.9-3.1,4.7c-1.2,1.5-3,3.6-3.6,5.6c0.3,0.2-1.9,3.2-2.4,3.3c-1.9,2.7-3.4,4.5-6.8,7
c-1.5,1.2-3,2.8-4.5,4.3c-1.9,2.7-3.5,3.6-7.5,5.1c-1.9,0.7-4,1.5-5.8,2.5c-2.1,1.3-4,1.5-8.6,2.2c-2.2,0.2-4.1,0.4-6,0.9
C274.2,107.4,270.6,107.2,266.8,107.3z M334.7,96.1c-1.4-0.7-2.3-0.9-3.1-1.1c-0.3,0-0.6-0.2-1.2-1c-0.3-0.5-0.9-1-2-1.2
c-1.4-0.4-4.2-6.5-4.4-11.4c-0.7-7.4-0.8-13.7,1.1-20.4c0.2-0.8,0.1-1.4,0.8-3.1l1-3.7c-0.2-1.6,0-2.5,0-3c1.4-2.6,2.1-4.3,2.5-8.2
c0.4-1.7,0.5-3.3,1.2-5.1c0.3-2.2-1.4-2.9-4.3-2.3c-0.5,0.1-0.8,0.1-1.1-0.2c-1.1-0.2-2.5,0-5.2,0.8l-2.2,0.2
c-2.2,0.5-3.2,0.6-4.4,0.4c-0.5,0.1-1.2-0.7-1.3-1.8c-0.4-0.8-0.6-0.5,0.2-0.8l0.5-0.3c2.6-1.6,5-2.1,7.5-2.1
c3.3,0,4.4-0.4,5.4-0.8c0.5-0.3,1.6-0.7,3.8-0.9c2.2-0.2,3.7-2,4.2-4.5c1-1.5,1.6-3.7,1.2-4.8c-0.4-1.3-0.2-2.2,0.5-3.6
c1.2-1.8,1.4-2.6,1-3.9l3.2-9.4c0.6-2.3,1.7-2.6,3.4-1.4l1.2,1c0.6,0.5,0.9,1,1,1.8l0.2,2.5c0.1,1.4,0.2,2.2,0,2.7
c-0.6,2.3-1,3.9-1.3,6.5c-0.1,1.7-0.5,3.6-1.3,6.4l-0.5,0.9c-1.2,2-1.3,3.2,0.4,3.8c2.5,0.3,4.7-0.2,6.5-0.9
c7.4-2.9,12.6-2.9,20-3.3c0.3,0,0.8-0.1,1.1,0.2l0.6,0.8c0.6,0.2,0.3,0.2,0.3,0.2c0.1,0.5-0.4,1.7-0.6,2c-0.8,0.4-1.6,0.7-2.4,0.8
c-1.6,0.2-3,0.6-4.1,0.7c-2.2,0.5-3.8,0.9-6.5,1.2c-0.8,0.1-1.4,0.1-1.9,0.5l-0.5,0.1c-2.2,0.2-4.1,0.7-5.7,0.8
c-1.6,0.4-3.2,0.6-5.4,0.8c-3.8,0.6-4.8,1.6-5.1,4.6c-0.6,2.5-1,3.7-1.7,4.8c-1.6,2.9-2,4.6-1.7,7.6c0,0.3-0.2,1.1-0.9,2.3
c-0.5,0.9-0.7,1.7-0.9,2c-5.6,15.7-5.3,21.7-3.2,31.9c0.2,1.6,0.8,2.1,2.9,4.1c5.7,4.7,11.8,5.5,19.2,2c5.3-2.4,10-4.5,14-9
c1.2-1.8,1.7-2.1,3-2.8c0.8-0.3,2.1-0.8,3.4-2c2.3-1.9,4.3-3.7,6-6.1c0.7-0.9,1.2-1.8,2.7-3.8c1.2-2.3,2.8-4.7,4.1-5.9
c0.5-0.3,0.8-0.6,1.6-0.2l0.9,0.7c1.2,1,1,1.6,0.9,1.3c-0.2,0.8-0.5,0.9-0.7,1.7c-0.4,1.4-0.8,2.8-1.6,3.7
c-1.5,1.2-2.2,2.4-4.4,5.4c-1.2,1.8-2.7,3.8-3.6,5c-3.7,3.9-5.8,5.5-9.2,7.8c-1.3,0.7-2.8,1.9-4.4,2.9c-4.1,3.1-6.7,4.2-11.5,6.3
C343.9,99.9,338.4,97.6,334.7,96.1z M401.2,89.9c-0.8-0.2-1.2-1-1.3-2.1c-0.5-4.9,2.7-9.3,7.1-9.2c0.5-0.6,2,0.4,2.3,1.4
c0.9,3.2,0.1,6.6-1.9,9c-1,0.7-1.6,1-4.8,1.3L401.2,89.9z`;

const labelPath = `M71.1,6.6c0.1-0.1,0.2-0.1,0.3-0.1c0.5,0,1.9,2.2,2.1,2.6c0.7-0.2,1.5-0.3,2.4-0.3c0.7,0,1.5,0.1,2.2,0.3
c0.5-0.8,1-1.6,1.4-2.4c0.1-0.2,0.2-0.3,0.4-0.3c0,0,0.1,0,0.1,0C82.6,7.7,83,8,83,8.2c0,0.1-0.3,0.7-1.6,2.5
c1.8,1.7,1.9,4.2,1.9,4.8c0,2.1-0.9,4.1-2.7,6c-0.2,0.2-0.3,0.3-0.5,0.3c-0.3,0-2.6-1.2-2.7-1.2c-0.2-0.1-0.3-0.2-0.3-0.3
s0.1-0.2,0.2-0.3c1.3-1.2,2.2-3.1,2.2-4.6c0-0.5-0.1-1-0.3-1.5c0-0.1-0.1-0.1-0.1-0.1c-3.7,4.6-6.4,6.7-7.4,6.7
c-0.3,0-0.5-0.1-0.6-0.4c-1.4-2.2-1.9-4.1-1.9-5.7c0-1.4,0.5-2.6,1.3-3.5c-1.8-2.2-1.9-2.3-1.9-2.4c0-0.1,0.1-0.2,0.2-0.3L71.1,6.6
z M73.3,13.9C73.2,14,73.2,14,73.1,14c-0.1,0-0.3-0.1-0.6-0.5c-0.1,0.3-0.2,0.6-0.2,0.9c0,0.6,0.4,1.5,0.6,1.5
c0.1,0,1.2-1.2,3.3-4.1c-0.1,0-0.2,0-0.4,0c-0.3,0-0.7,0-1,0.1c0.1,0.2,0.2,0.4,0.2,0.6c0,0.1,0.1,0.2,0.1,0.3s0,0.2-0.2,0.3
L73.3,13.9z M93.7,16.9c-0.2-0.1-0.3-0.2-0.3-0.4c0-0.1,0-0.1,0-0.1c0.6-1.6,1.2-3.3,1.7-5l-1.6-0.2c-0.2,0-0.3-0.2-0.3-0.3v0
l0.3-2.9c0-0.2,0.2-0.3,0.3-0.3h0l2.3,0.2c0.1-0.6,0.3-1.1,0.4-1.5C96.6,6.1,96.6,6,96.9,6H97l3.2,0.3c0.3,0,0.3,0.3,0.3,0.5
c0,0.1-0.2,1.1-0.3,1.5l0.9,0.1c0.2,0,0.3,0.2,0.3,0.3v0l-0.3,2.9c0,0.2-0.2,0.3-0.3,0.3h0l-1.5-0.1c-0.5,1.9-1.2,3.7-2.1,5.3
c-0.1,0.2-0.2,0.3-0.5,0.3c0,0-0.1,0-0.1,0L93.7,16.9z M106.2,21.1c0,0.4-0.3,0.4-1.2,0.4c-3.2,0-6.1-1.3-6.1-1.8
c0-0.1,0-0.1,0-0.2l1-2.5c0.1-0.2,0.1-0.3,0.3-0.3c0.1,0,0.2,0,0.3,0.1c1.3,0.4,3.3,0.8,5.3,0.9c0.2,0,0.4,0.1,0.4,0.5L106.2,21.1z
 M102.7,12.7c-0.1-0.1-0.2-0.1-0.2-0.3c0-0.1,0-0.1,0.1-0.2l1.1-2.4c0.1-0.2,0.1-0.2,0.3-0.2c0.5,0,3.3,1,3.9,1.3
c0.1,0.1,0.3,0.1,0.3,0.3c0,0.1,0,0.2-0.1,0.3l-1.2,2.8c-0.1,0.2-0.2,0.3-0.3,0.3c-0.1,0-0.1,0-0.2-0.1L102.7,12.7z M120.1,21.3
c-0.2,0-0.4-0.1-0.4-0.6V17c-0.2,0.3-0.3,0.7-0.5,1c-0.1,0.1-0.2,0.2-0.3,0.2c-0.1,0-0.2,0-0.4-0.1c-0.5-0.3-1.5-0.7-2-1
c-0.2-0.1-0.3-0.3-0.3-0.4c0-0.3,1.8-3.3,2-3.7l-2-0.9c-0.1-0.1-0.1-0.1-0.1-0.2c0-0.1,0-0.1,0.1-0.2l1.4-2.2
c0.1-0.1,0.1-0.2,0.3-0.2c0.3,0,1.2,0.3,1.8,0.6l0-3.1c0-0.2,0.2-0.4,0.4-0.4h2.9c0.2,0,0.4,0.2,0.4,0.4v2.2
c0.5-0.1,1.1-0.2,1.6-0.2c3.1,0,6.4,1.9,6.4,5.8c0.2,0,0.5,0,0.8,0.1c0.2,0,0.3,0.1,0.3,0.7c0,0.8-0.1,2-0.1,2.5
c0,0.3-0.1,0.4-0.4,0.4c-0.4,0-0.7,0-0.9-0.1c-0.5,1.8-2.2,2.9-3.9,2.9c-0.9,0-3.2-0.5-3.2-3c0-1.6,1-3.4,3.8-3.4
c-0.2-1.9-1.6-2.6-2.9-2.6c-0.5,0-1,0.1-1.5,0.3l0,8.3c0,0.4-0.2,0.6-0.5,0.6H120.1z M127.6,17.2c-0.6,0-1.2,0.2-1.2,0.6
c0,0.4,0.3,0.6,0.6,0.6c0.4,0,0.9-0.5,1-1.2C127.9,17.2,127.7,17.2,127.6,17.2z M150.3,17c0,1-4.5,2.6-5.7,2.6
c-0.3,0-0.5-0.1-0.7-0.3c-1.4-2.3-2-4.3-2-6c0-4.2,3.6-6,7.1-6c5,0,8,3.2,8,7.2c0,2.3-1,4.4-3,6.4c-0.2,0.2-0.4,0.3-0.6,0.3
c-0.1,0-0.3-0.1-0.4-0.1c-2.8-1.4-2.8-1.4-2.8-1.6c0-0.1,0.1-0.2,0.2-0.3c1.5-1.4,2.4-3.1,2.4-4.6c0-1.4-1-3.7-3.9-3.7
c-2,0-3.5,1.1-3.5,2.7c0,0.1,0.1,1.6,0.7,1.6c0,0,0.1,0,0.1,0c0.6-0.3,1.9-1.1,2.4-1.4c0.1-0.1,0.3-0.1,0.3-0.1
c0.1,0,0.2,0.1,0.3,0.2C149.3,14,150.3,16.8,150.3,17z M173.7,18.1c0,2-1.7,3-3.5,3c-1.8,0-4.1-1-4.1-3.8c0-2.4,1.7-4.1,3.9-4.8
v-1.2l-2.4,0.1c-0.2,0-0.3-0.1-0.3-0.3l-0.1-2.6v0c0-0.2,0.2-0.3,0.3-0.3l2.4-0.1c0-0.4,0-0.8,0-0.9c0-0.2,0-0.4,0.4-0.4h2.9
c0.3,0,0.4,0.3,0.4,0.5V8l1.1,0h0c0.2,0,0.3,0.2,0.3,0.3l0,2.6c0,0.2-0.1,0.3-0.3,0.4l-1.2,0c0,0.3,0,0.6,0,0.8
c4.1,0.4,6.7,3.3,6.7,6.3c0,1.9-1.1,3.5-1.5,3.5c-0.3,0-2.6-1.1-2.7-1.2c-0.1-0.1-0.2-0.2-0.2-0.3c0-0.1,0-0.1,0.1-0.2
c0.3-0.4,0.4-1.1,0.4-1.8c0-2-1.6-2.6-2.8-2.8L173.7,18.1L173.7,18.1z M170.1,15.8c-0.6,0.2-1.1,0.6-1.1,1.3c0,0.6,0.5,0.6,0.5,0.6
c0.3,0,0.5-0.2,0.5-0.6V15.8z M179.3,13.6c-0.1,0.1-0.2,0.1-0.2,0.1c-0.1,0-0.2-0.1-0.3-0.1c-0.6-0.7-2-2.4-2.6-3.1
c0-0.1-0.1-0.1-0.1-0.2c0-0.1,0-0.2,0.1-0.2l1.7-1.4c0.1-0.1,0.1-0.1,0.2-0.1c0.4,0,3.2,2.5,3.2,3c0,0.1,0,0.2-0.1,0.3L179.3,13.6z
 M201,7.5c0.1,0.1,0.3,0.2,0.3,0.4c0,0.1-0.1,0.2-0.1,0.4c-1.4,1.8-3.4,5-3.4,5.5c0,0.1,0,0.2,0.2,0.3c1.7,1.7,4.2,4.5,4.2,5.2
c0,0.3-0.2,0.5-2.3,2.2c-0.1,0.1-0.2,0.1-0.3,0.1c-0.1,0-0.3,0-0.4-0.1c0,0-3.9-3.9-5.4-5.5c-0.5-0.5-0.6-0.8-0.6-1.2
c0-1.3,1.8-5.4,4.8-8.7c0.1-0.1,0.2-0.1,0.4-0.1c0.1,0,0.2,0,0.3,0.1L201,7.5z M225,11.4c0.1,1,0.1,2.1,0.1,3.1
c0.4,0.6,0.6,1.4,0.6,2.3c0,1.2-0.4,2.7-1.4,4.3c-0.2,0.4-0.4,0.4-2.7,0.4c-0.7,0-0.7-0.1-0.7-0.2c0-0.1,0-0.1,0.1-0.2
c0.3-0.7,0.5-1.3,0.6-1.8c-0.4,0.1-0.8,0.1-1.1,0.1c-1.7,0-3.8-0.8-3.8-3.4c0-2.6,2.1-3.9,4.2-3.9h0.1l-0.1-1l-5.7-0.2
c-0.2,0-0.3-0.1-0.3-0.3l0.1-2.9c0-0.2,0.2-0.3,0.4-0.3l5.3,0.2l-0.1-1.5V6.1c0-0.2,0.1-0.3,0.3-0.3l3-0.2h0c0.4,0,0.4,0.2,0.7,2.2
l4.1,0.2c0.2,0,0.3,0.2,0.3,0.4l-0.1,2.9c0,0.2-0.2,0.3-0.4,0.3L225,11.4z M220.6,15.1c-0.4,0-0.8,0.3-0.8,0.7
c0,0.3,0.2,0.8,0.7,0.8c0.6,0,0.7-0.6,0.7-1.2C221.1,15.2,220.8,15.1,220.6,15.1z M240.2,14c-0.2-0.1-0.3-0.2-0.3-0.5
c0-1.2,0.7-3.9,0.7-4.2c0.1-0.2,0.2-0.4,0.5-0.4c0,0,0.1,0,0.1,0l3.2,0.6c0.2,0,0.4,0.2,0.4,0.5c0,0.1,0,0.1,0,0.2l-0.5,3.9
c0,0.2-0.3,0.5-0.6,0.5c-0.1,0-0.1,0-0.1,0L240.2,14z M246.7,20.6c-0.2-0.1-0.2-0.2-0.2-0.3s0-0.3,0.1-0.4c0.7-1.2,0.9-2.6,0.9-4.1
c0-2.7-0.8-5.5-1.5-7.7c0-0.1-0.1-0.2-0.1-0.3c0-0.2,0.1-0.4,0.3-0.4l3.2-0.8c0.1,0,0.2,0,0.3,0c0.4,0,0.5,0.2,0.5,0.4
c1,2.4,1.9,5.4,1.9,8.3c0,2.2-0.5,4.4-1.8,6.1c-0.2,0.2-0.3,0.3-0.6,0.3c-0.1,0-0.3,0-0.4-0.1L246.7,20.6z M263.9,20.7
c-0.1,0-0.1,0-0.2,0c-0.2,0-0.3-0.1-0.3-0.4l-0.4-6.5l-0.8-0.1c-0.3,0-0.4-0.2-0.4-0.5c0-0.1,0-0.1,0-0.2l2.1-6.4
c0.1-0.2,0.2-0.3,0.4-0.3c0.1,0,0.1,0,0.2,0l2.7,0.9c0.2,0.1,0.3,0.2,0.3,0.4c0,0.1,0,0.1,0,0.2l-1.6,4.8l0.4,0
c0.3,0,0.4,0.2,0.4,0.4l0.5,6.3v0.1c0,0.3-0.2,0.6-0.5,0.6L263.9,20.7z M277.6,21.7l-8.9-0.2c-0.5,0-0.9-0.3-0.9-0.8l-0.2-13.9
c0-0.5,0.4-0.8,0.8-0.8l7.7-0.5h0.2c1.6,0,2.4,1,2.4,2.8v0.1l-0.2,12.2C278.6,21.3,278.1,21.7,277.6,21.7L277.6,21.7z M275.4,9.8
c0-0.6-0.3-0.8-0.7-0.8h-0.1l-4.3,0.2l0.1,9.7l4.8,0.1L275.4,9.8z M271.7,18.3c-0.3,0-0.4-0.1-0.4-0.4l-0.1-3v0
c0-0.3,0.2-0.4,0.4-0.4h0.1v-1.2l-0.4,0c-0.2,0-0.3-0.1-0.3-0.3l0-1.6c0-0.3,0.1-0.3,0.3-0.3l0.5,0l0-1c0-0.2,0.1-0.3,0.3-0.3
l1.7,0.1c0.2,0,0.3,0.1,0.3,0.3l0,0.7l0.5,0h0c0.2,0,0.3,0.2,0.3,0.4l0,1.5c0,0.3-0.1,0.4-0.3,0.4l-0.6,0l0,1.2
c0.5,0.1,0.8,0.5,0.8,1v0.1l-0.1,2.3c0,0.3-0.3,0.5-0.5,0.5L271.7,18.3z M273.2,16.1c0-0.2-0.1-0.3-0.3-0.3h0l-0.6,0.1v1.2l0.8,0
L273.2,16.1z M295.6,18.3l0.1,1l1-0.1h0.1c0.1,0,0.2,0.1,0.2,0.2l-0.1,1.7c0,0.3-0.2,0.4-0.4,0.5l-4.4,0.4H292
c-0.3,0-0.5-0.2-0.5-0.4l-0.2-1.7v-0.1c0-0.2,0.1-0.3,0.3-0.3l0.8-0.1l-0.1-1.1l-1.6,0.1c-0.1,0.9-0.3,1.8-0.6,2.5
c-0.2,0.3-0.5,0.5-0.9,0.5c-0.1,0-0.3,0-0.4-0.1l-2.4-0.8c-0.2-0.1-0.3-0.2-0.3-0.4c0-0.1,0-0.1,0-0.2c0.6-1.3,1-3.7,1-4.4l0.1-7.6
c0-1.6,1-2.4,2-2.4L300,5.2h0.1c1.4,0,2.3,0.6,2.3,2.3l0.1,3.2v0c0,0.6-0.4,1-1,1L291,11.9l-0.1,3.9c0,0.1,0,0.3,0,0.5l2-0.1
l-0.1-1.1h-0.9c-0.2,0-0.3-0.1-0.3-0.3l0-1.4c0-0.2,0.1-0.3,0.2-0.3h0.8l0-0.3v0c0-0.2,0.1-0.3,0.3-0.3l2.3-0.1
c0.2,0,0.3,0.1,0.3,0.3l0,0.5h1.9l0-0.5c0-0.3,0.2-0.3,0.4-0.3l2.7,0.1c0.2,0,0.3,0.1,0.3,0.3v0l0,0.4h1c0.2,0,0.3,0.1,0.3,0.3
l0,1.4c0,0.2-0.1,0.3-0.3,0.3h-1.1l-0.1,0.8l1.7-0.1h0.1c0.2,0,0.3,0.1,0.4,0.3l0.1,1.5v0.1c0,0.2-0.1,0.3-0.3,0.3L295.6,18.3z
 M298.5,8.7c0-0.3-0.2-0.5-0.5-0.5h-0.1l-6.3,0.2c-0.4,0-0.5,0.3-0.5,0.6l0,0.9l7.5-0.2L298.5,8.7z M297.5,15l-1.7,0l0.1,1.2
l1.5-0.1L297.5,15z M302,21.8c-0.1,0.2-0.4,0.3-0.6,0.3c-0.2,0-0.4,0-0.6-0.1l-3.3-1.6c-0.1-0.1-0.2-0.2-0.2-0.3
c0-0.1,0-0.2,0.1-0.3l1-1.5c0.1-0.1,0.2-0.2,0.3-0.2c0.1,0,0.1,0,0.2,0.1l1.3,0.5l0.2-0.3c0.1-0.1,0.2-0.2,0.3-0.2
c0.1,0,0.1,0,0.2,0.1l1.5,0.6c0.1,0.1,0.2,0.2,0.2,0.3c0,0.1,0,0.1-0.1,0.2l-0.2,0.3l0.4,0.2c0.2,0.1,0.2,0.2,0.2,0.3
c0,0.1-0.1,0.2-0.1,0.3L302,21.8z`;

const attrs = {
  width: 411,
  height: 132,
};

const MASK_ID = "title__illust-mask";

export default function StoryTitle() {
  const [targetRef, isIntersected] = useIntersectionObserver<HTMLDivElement>(
    {}
  );

  return (
    <Wrapper ref={targetRef}>
      <Svg viewBox={`0 0 ${attrs.width} ${attrs.height}`}>
        <mask id={MASK_ID}>
          <PolyLine isIntersected={isIntersected} points={`17,36 15,40`} />
          <PolyLine
            isIntersected={isIntersected}
            points={`7.5,83.5 5.5,92.5 4.5,102.5 4.5,113.5 7.5,120.5 13.5,125.5 21.5,127.5 32.5,123.5 43.5,112.5 
            62.5,83.5 72.5,58.5 77.5,40.5 83.5,21.5 82.5,5.5 76.5,4.5 70.5,11.5 66.5,23.5 61.5,45.5 58.5,65.5 55.5,81.5 54.5,106.5 
            58.5,117.5 63.5,122.5 72.5,124.5 83.5,121.5 97.5,111.5 108.5,92.5 119.5,68.5 127.5,45.5 132.5,27.5 134.5,9.5 132.5,6.5 
            124.5,25.5 121.5,40.5 118.5,52.5 116.5,63.5 116.5,86.5 117.5,98.5 122.5,107.5 129.5,114.5 138.5,116.5 149.5,114.5 
            156.5,107.5 164.5,101.5 169.5,94.5 173.5,83.5 178.5,59.5 171.5,97.5 175.5,105.5 180.5,106.5 188.5,102.5 195.5,93.5 
            202.5,82.5 208.5,66.5 209.5,79.5 209.5,87.5 212.5,95.5 217.5,101.5 225.5,103.5 234.5,101.5 244.5,95.5 252.5,84.5 259.5,71.5 
            267.5,55.5 273.5,40.5 267.5,42.5 267.5,49.5 273.5,62.5 279.5,76.5 282.5,81.5 282.5,88.5 282.5,95.5 277.5,99.5 272.5,102.5 
            267.5,102.5 259.5,98.5 264.5,103.5 282.5,103.5 291.5,101.5 300.5,98.5 307.5,90.5 319.5,78.5 323.5,72.5 328.5,58.5 334.5,38.5 
            341.5,4.5 337.5,28.5 314.5,35.5 368.5,23.5 333.5,33.5 326.5,73.5 327.5,83.5 329.5,90.5 335.5,93.5 342.5,95.5 351.5,94.5 
            364.5,88.5 374.5,79.5 380.5,72.5 386.5,63.5`}
          />
          <PolyLine
            isIntersected={isIntersected}
            points={`402.5,87.5 406.5,81.5`}
          />
        </mask>
        <Line d={linePath} mask={`url(#${MASK_ID})`} />
        <Label d={labelPath} isIntersected={isIntersected} />
        <g>
          <Word
            isIntersected={isIntersected}
            d={`M58.4,57.5c2.9,0.8,5.9,1.7,8.8,2.5c1.1,0.3,1.6,1.7,0.9,2.6c-1.6,2.2-3.4,4.5-5.2,6.8c0.1,3,0.1,6-0.1,9
            c-0.1,1-1,1.8-2,1.5c-2.6-0.6-5.3-1.4-8.1-2.3c-2.7,1.1-5.3,2.2-7.7,3.1c-1,0.4-2.1-0.3-2.2-1.4c-0.3-3-0.6-6.1-0.7-9.1
            c-1.9-2.2-3.9-4.4-5.7-6.5c-0.8-0.9-0.4-2.3,0.7-2.7c2.9-1,5.8-2.1,8.6-3.1c1.6-2.5,3.2-5.1,4.8-7.6c0.6-1,2.1-1.1,2.8-0.1
            C54.8,52.7,56.6,55.1,58.4,57.5z`}
          />
          <Word
            isIntersected={isIntersected}
            d={`M110.9,86.2c-0.5,0-1-0.4-1-0.9V63.9c-7.5,2.7-12.9,3.8-13.5,3.8c-0.4,0-0.8-0.2-1-0.7l-3-7.5
            c0-0.2-0.1-0.2-0.1-0.4c0-0.4,0.2-0.8,0.6-0.9c10.1-3.9,24.1-11.1,32.2-15.1c0.2,0,0.3-0.1,0.5-0.1c0.5,0,1.1,0.2,1.3,0.6l5.3,8.9
            c0,0.1,0.1,0.2,0.1,0.4c0,0.4-0.2,0.9-0.7,1.2c-4,2.3-10.5,5.3-17.3,8h6.6c0.5,0,1,0.5,1,1v22c0,0.6-0.4,0.9-1,0.9H110.9z`}
          />
          <Word
            isIntersected={isIntersected}
            d={`M161.9,84.4c-0.5-0.2-1-0.5-1-1c0-0.2,0.1-0.5,0.2-0.8c3.5-5.7,6.6-13.4,6.6-14.4c0-0.6-0.5-0.7-0.8-0.8
            l-19.6-1.6c-0.5,0-0.9-0.4-0.9-0.9v-0.1l0.8-7.8c0.1-0.5,0.5-0.9,1-0.9h0.1l28.6,2.2c3,0.2,5.2,2.2,5.2,5
            c0,2.9-2.9,14.6-11.5,22.9c-0.2,0.2-0.9,0.7-1.7,0.7c-0.2,0-0.5-0.1-0.7-0.2L161.9,84.4z M173.9,53.7c-6.3-0.2-14.8-0.8-20-0.9
            c-0.7,0-1.2-0.7-1.2-1.2v-0.1l0.6-7.4c0.1-0.6,0.6-1.1,1.3-1.1h0.1c5.5,0.2,15.4,0.4,20,0.6c0.7,0.1,1.2,0.7,1.2,1.2V45l-0.5,7.6
            c0,0.7-0.7,1.2-1.3,1.2H173.9z`}
          />
          <Word
            isIntersected={isIntersected}
            d={`M193.3,80.1c-0.2-0.2-0.4-0.5-0.4-0.8c0-0.4,0.3-0.8,1-1.1c10.2-5,17.7-17.3,17.7-19.8c0-0.6-0.3-0.9-1.1-0.9
            L200,56.6c-0.5-0.1-1-0.5-1-1.1v-0.1l0.8-8.2c0-0.6,0.5-1,1-1h0.1l20,1.6c2.2,0.2,5.3,2.2,5.3,5.6c0,0.2,0,0.3,0,0.5
            c-1.1,12.4-12.6,27.2-25.9,31.8c-0.5,0.2-0.8,0.3-1.3,0.3s-0.9-0.2-1.4-0.8L193.3,80.1z M221.9,71.1c0.3-0.5,0.8-0.7,1.2-0.7
            c0.4,0,6.5,0.8,12.7,4.3c0.5,0.3,0.8,0.7,0.8,1.1c0,0.3-0.2,0.6-0.4,0.9c-1.2,2.1-3.9,6.3-5.2,8.5c-0.2,0.4-0.5,0.6-0.9,0.6
            c-0.3,0-0.6-0.2-0.9-0.3c-2.7-1.8-8.5-5.3-11-6.8c-0.4-0.2-0.8-0.5-0.8-0.9c0-0.2,0.1-0.4,0.3-0.7L221.9,71.1z`}
          />
          <Word
            isIntersected={isIntersected}
            d={`M255.1,86.1c-0.5,0-1-0.4-1-0.9V43c0-0.6,0.5-1,1-1h9.9c0.5,0,1,0.4,1,1v17.2l2.6-3.6
            c0.4-0.5,0.8-0.7,1.3-0.7c1.5,0,9.5,2,13.8,4.3c0.5,0.3,0.8,0.7,0.8,1.1c0,0.4-0.2,0.8-5.7,9.7c-0.2,0.4-0.6,0.5-1,0.5
            s-0.7-0.1-1-0.3c-2.5-1.6-7.7-4.3-11-5.9v19.9c0,0.5-0.4,0.9-1,0.9H255.1z`}
          />
          <Word
            isIntersected={isIntersected}
            d={`M328.8,57.5c2.9,0.8,5.9,1.7,8.8,2.5c1.1,0.3,1.6,1.7,0.9,2.6c-1.6,2.2-3.4,4.5-5.2,6.8c0.1,3,0.1,6-0.1,9
            c-0.1,1-1,1.8-2,1.5c-2.6-0.6-5.3-1.4-8.1-2.3c-2.7,1.1-5.3,2.2-7.7,3.1c-1,0.4-2.1-0.3-2.2-1.4c-0.3-3-0.6-6.1-0.7-9.1
            c-1.9-2.2-3.9-4.4-5.7-6.5c-0.8-0.9-0.4-2.3,0.7-2.7c2.9-1,5.8-2.1,8.6-3.1c1.6-2.5,3.2-5.1,4.8-7.6c0.6-1,2.1-1.1,2.8-0.1
            C325.2,52.7,327,55.1,328.8,57.5z`}
          />
        </g>
      </Svg>
    </Wrapper>
  );
}

const Wrapper = styled.div``;

const Svg = styled.svg`
  width: 420px;
  overflow: visible;

  ${media.smallDown} {
    width: 280px;
  }
`;

const Line = styled.path`
  fill: #fff;
  fill-opacity: 0.4;
`;

const popin = keyframes`
  from {
    opacity: 0;
  }
  50%,
  to {
    opacity: 1;
  }

  from {
    transform: translateY(20px);
  }
  50% {
    transform: translateY(-8px);
  }
  to {
    transform: translateY(0);
  }
`;

const Label = styled.path<{ isIntersected: boolean }>`
  fill: #fff;
  opacity: 0;

  ${({ isIntersected }) =>
    isIntersected &&
    css`
      animation: ${popin} 0.4s ease-out 0s both;
    `}
`;

const Word = styled.path<{ isIntersected: boolean }>`
  fill: #fff;
  opacity: 0;

  ${({ isIntersected }) =>
    isIntersected &&
    css`
      animation: ${popin} 0.4s ease-out 0.1s both;

      &:nth-of-type(2) {
        animation-delay: 0.15s;
      }
      &:nth-of-type(3) {
        animation-delay: 0.2s;
      }
      &:nth-of-type(4) {
        animation-delay: 0.25s;
      }
      &:nth-of-type(5) {
        animation-delay: 0.3s;
      }
      &:nth-of-type(6) {
        animation-delay: 0.35s;
      }
      &:nth-of-type(7) {
        animation-delay: 0.4s;
      }
      &:nth-of-type(8) {
        animation-delay: 0.45s;
      }
    `}
`;

const drawLine = (length: number) => keyframes`
  from {
    opacity: 0;
  }
  10%,
  to {
    opacity: 1;
  }

  from {
    stroke-dasharray: 0 ${length};
  }
  to {
    stroke-dasharray: ${length} ${length};
  }
`;

const PolyLine = styled.polyline<{ isIntersected: boolean }>`
  fill: none;
  stroke-width: 9;
  stroke: #fff;
  stroke-linejoin: round;
  stroke-linecap: round;
  opacity: 0;

  ${({ isIntersected }) =>
    isIntersected &&
    css`
      &:nth-of-type(1) {
        animation: ${drawLine(5)} 0.1s ease-in-out 0s both;
      }
      &:nth-of-type(2) {
        animation: ${drawLine(1417)} 0.55s ease-in-out 0.05s both;
      }
      &:nth-of-type(3) {
        animation: ${drawLine(7.3)} 0.1s ease-in-out 0.55s both;
      }
    `}
`;
